!function(){"use strict";var config={apiKey:"AIzaSyC_3OldnzSB0qGsdXCl3rHPucEeU7Pk5xw",authDomain:"adminshmot.firebaseapp.com",databaseURL:"https://adminshmot.firebaseio.com",storageBucket:"adminshmot.appspot.com",messagingSenderId:"551544753681"};firebase.initializeApp(config)}(),function(){"use strict";angular.module("shmotAdmin",["ngCookies","ngMaterial","ngMessages","ui.router","ngAnimate","firebase"])}(),function(){"use strict";function config($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state({name:"main",abstract:!0,templateUrl:"views/main.html"}),$stateProvider.state({name:"login",url:"/login",template:"<login></login>",data:{freeAssent:!0}}),$stateProvider.state({name:"register",url:"/register",template:"<register></register>",data:{freeAssent:!0}}),$stateProvider.state({name:"main.home",url:"/",templateUrl:"views/pages/home.html"}),$stateProvider.state({name:"main.finance",url:"/finance",templateUrl:"views/pages/finance.html"})}angular.module("shmotAdmin").config(config)}(),function(){"use strict";function runFunction($rootScope,$state,Auth){function checkAuth(event,toState,toParams,fromState,fromParams,options){void 0!==toState.data&&toState.data.freeAssent||Auth.$onAuthStateChanged(function(user){user||$state.go("main.login")})}$rootScope.user=null,$rootScope.$on("$stateChangeStart",checkAuth)}angular.module("shmotAdmin").run(runFunction)}(),function(){"use strict";function LoginController($state,Auth){function auth(){Auth.$signInWithEmailAndPassword(vm.email,vm.password).then(function(firebaseUser){vm.message="User created with uid: "+firebaseUser.uid,$state.go("main")}).catch(function(error){vm.error=error})}var vm=this;vm.auth=auth}angular.module("shmotAdmin").component("login",{templateUrl:"views/components/singin.html",controller:LoginController,controllerAs:"vm"})}(),function(){"use strict";function LoginController(Auth){function register(){Auth.$createUserWithEmailAndPassword(vm.email,vm.password).then(function(firebaseUser){vm.message="User created with uid: "+firebaseUser.uid}).catch(function(error){vm.error=error})}var vm=this;vm.register=register}angular.module("shmotAdmin").component("register",{templateUrl:"views/components/singup.html",controller:LoginController,controllerAs:"vm"})}(),function(){"use strict";function TransactionController(Finance){console.log(Finance.getTransactionsList())}angular.module("shmotAdmin").component("transaction",{templateUrl:"views/components/transaction.html",controller:TransactionController,controllerAs:"vm"})}(),function(){"use strict";function Auth($firebaseAuth){return $firebaseAuth()}angular.module("shmotAdmin").factory("Auth",Auth)}(),function(){"use strict";function Finance($http,$firebaseObject){function getPbKey(){pbKey=$firebaseObject(ref).pbKey}function loadingTransactionsList(){$http({method:"GET",url:"https://api.privatbank.ua/p24api/rest_fiz",data:'<?xml version="1.0" encoding="UTF-8"?><request version="1.0"><merchant><id>75482</id><signature>5abf5c7524bc2a835acb3a9e24ce10bc5ba82a99</signature></merchant><data><oper>cmt</oper><wait>0</wait><test>0</test><payment id=""><prop name="sd" value="11.08.2013" /><prop name="ed" value="11.09.2013" /><prop name="card" value="5168742060221193" /></payment></data></request>'}).then(function(response){console.log(response)},function(response){console.log(response)})}function getTransactionsList(){return transactions}var vm=this,ref=firebase.database().ref(),pbKey=null,transactions={items:[{name:"dsd"}]};return vm.getTransactionsList=getTransactionsList,getPbKey(),loadingTransactionsList(),vm}angular.module("shmotAdmin").factory("Finance",Finance)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsIm5hbWUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwidXJsIiwidGVtcGxhdGUiLCJkYXRhIiwiZnJlZUFzc2VudCIsInJ1bkZ1bmN0aW9uIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIkF1dGgiLCJjaGVja0F1dGgiLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwiJG9uQXV0aFN0YXRlQ2hhbmdlZCIsInVzZXIiLCJnbyIsIiRvbiIsInJ1biIsIkxvZ2luQ29udHJvbGxlciIsImF1dGgiLCIkc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLCJ2bSIsImVtYWlsIiwicGFzc3dvcmQiLCJ0aGVuIiwiZmlyZWJhc2VVc2VyIiwibWVzc2FnZSIsInVpZCIsImNhdGNoIiwiZXJyb3IiLCJ0aGlzIiwiY29tcG9uZW50IiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlZ2lzdGVyIiwiJGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsIlRyYW5zYWN0aW9uQ29udHJvbGxlciIsIkZpbmFuY2UiLCJjb25zb2xlIiwibG9nIiwiZ2V0VHJhbnNhY3Rpb25zTGlzdCIsIiRmaXJlYmFzZUF1dGgiLCJmYWN0b3J5IiwiJGh0dHAiLCIkZmlyZWJhc2VPYmplY3QiLCJnZXRQYktleSIsInBiS2V5IiwicmVmIiwibG9hZGluZ1RyYW5zYWN0aW9uc0xpc3QiLCJtZXRob2QiLCJyZXNwb25zZSIsInRy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LFFBQVNWLHVCQUNMLE1BQU9XLGNBbERYLEdBQUk5QixJQUFLUyxLQUNMaUIsSUFBTTdELFNBQVNrRSxXQUFXTCxNQUMxQkQsTUFBUSxLQUNSSyxjQUNJRSxRQUVRM0QsS0FBTSxRQStDdEIsT0ExQ0EyQixJQUFHbUIsb0JBQXNCQSxvQkFFekJLLFdBTUFHLDBCQWtDTzNCLEdBMURYakMsUUFDS0MsT0FBTyxjQUNQcUQsUUFBUSxVQUFXTCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQXBwXG4qL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IElldmdlbmlpIFNlbiBvbiAyNi4xMS4xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIEluaXRpYWxpemUgRmlyZWJhc2VcbiAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICBhcGlLZXk6IFwiQUl6YVN5Q18zT2xkbnpTQjBxR3NkWENsM3JIUHVjRWVVN1BrNXh3XCIsXG4gICAgICAgIGF1dGhEb21haW46IFwiYWRtaW5zaG1vdC5maXJlYmFzZWFwcC5jb21cIixcbiAgICAgICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9hZG1pbnNobW90LmZpcmViYXNlaW8uY29tXCIsXG4gICAgICAgIHN0b3JhZ2VCdWNrZXQ6IFwiYWRtaW5zaG1vdC5hcHBzcG90LmNvbVwiLFxuICAgICAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCI1NTE1NDQ3NTM2ODFcIlxuICAgIH07XG4gICAgZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcpO1xuXG59KSgpO1xuLyoqXG4gKiBDcmVhdGVkIGJ5IElldmdlbmlpIFNlbiBvbiAxNi4xMS4xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnc2htb3RBZG1pbicsIFtcbiAgICAgICAgICAgICduZ0Nvb2tpZXMnLFxuICAgICAgICAgICAgJ25nTWF0ZXJpYWwnLFxuICAgICAgICAgICAgJ25nTWVzc2FnZXMnLFxuICAgICAgICAgICAgJ3VpLnJvdXRlcicsXG4gICAgICAgICAgICAnbmdBbmltYXRlJyxcbiAgICAgICAgICAgICdmaXJlYmFzZSdcbiAgICAgICAgXSk7XG5cbn0pKCk7XG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDIzLjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJylcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xuXG4gICAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcblxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG5cbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoe1xuICAgICAgICAgICAgbmFtZTogJ21haW4nLFxuICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL21haW4uaHRtbCcsXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6ICdsb2dpbicsXG4gICAgICAgICAgICB1cmw6ICcvbG9naW4nLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8bG9naW4+PC9sb2dpbj4nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdmcmVlQXNzZW50JzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICAgICAgICBuYW1lOiAncmVnaXN0ZXInLFxuICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyJyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPHJlZ2lzdGVyPjwvcmVnaXN0ZXI+JyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAnZnJlZUFzc2VudCc6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoe1xuICAgICAgICAgICAgbmFtZTogJ21haW4uaG9tZScsXG4gICAgICAgICAgICB1cmw6ICcvJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvaG9tZS5odG1sJ1xuICAgICAgICB9KTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICAgICAgICBuYW1lOiAnbWFpbi5maW5hbmNlJyxcbiAgICAgICAgICAgIHVybDogJy9maW5hbmNlJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvcGFnZXMvZmluYW5jZS5odG1sJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKCk7XG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDIzLjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJylcbiAgICAgICAgLnJ1bihydW5GdW5jdGlvbik7XG5cbiAgICBmdW5jdGlvbiBydW5GdW5jdGlvbigkcm9vdFNjb3BlLCAkc3RhdGUsIEF1dGgpIHtcbiAgICAgICAgJHJvb3RTY29wZS51c2VyID0gbnVsbDtcblxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBjaGVja0F1dGgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQXV0aChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRvU3RhdGUuZGF0YSA9PT0gdW5kZWZpbmVkIHx8ICF0b1N0YXRlLmRhdGEuZnJlZUFzc2VudCkge1xuICAgICAgICAgICAgICAgIEF1dGguJG9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbih1c2VyKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VyKVxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdtYWluLmxvZ2luJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG5cbi8qXG5EaXJlY3RpdmVzXG4gKi9cblxuLypcbkNvbXBvbmVudHNcbiovXG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDI2LjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJylcbiAgICAgICAgLmNvbXBvbmVudCgnbG9naW4nLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbXBvbmVudHMvc2luZ2luLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogTG9naW5Db250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKCRzdGF0ZSwgQXV0aCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmF1dGggPSBhdXRoO1xuXG4gICAgICAgIGZ1bmN0aW9uIGF1dGgoKSB7XG4gICAgICAgICAgICBBdXRoLiRzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh2bS5lbWFpbCwgdm0ucGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSBcIlVzZXIgY3JlYXRlZCB3aXRoIHVpZDogXCIgKyBmaXJlYmFzZVVzZXIudWlkO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ21haW4nKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZtLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbi8qKlxuICogQ3JlYXRlZCBieSBJZXZnZW5paSBTZW4gb24gMjYuMTEuMTYuXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3NobW90QWRtaW4nKVxuICAgICAgICAuY29tcG9uZW50KCdyZWdpc3RlcicsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tcG9uZW50cy9zaW5ndXAuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBMb2dpbkNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIoQXV0aCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gICAgICAgICAgICBBdXRoLiRjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQodm0uZW1haWwsIHZtLnBhc3N3b3JkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgICAgICAgICAgICAgICAgICB2bS5tZXNzYWdlID0gXCJVc2VyIGNyZWF0ZWQgd2l0aCB1aWQ6IFwiICsgZmlyZWJhc2VVc2VyLnVpZDtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZtLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbi8qKlxuICogQ3JlYXRlZCBieSBJZXZnZW5paSBTZW4gb24gMjYuMTEuMTYuXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3NobW90QWRtaW4nKVxuICAgICAgICAuY29tcG9uZW50KCd0cmFuc2FjdGlvbicsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tcG9uZW50cy90cmFuc2FjdGlvbi5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFRyYW5zYWN0aW9uQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICB9KTtcblxuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uQ29udHJvbGxlcihGaW5hbmNlKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgY29uc29sZS5sb2coRmluYW5jZS5nZXRUcmFuc2FjdGlvbnNMaXN0KCkpO1xuICAgIH1cblxufSkoKTtcblxuLypcbkNvbnRyb2xsZXJzXG4gKi9cblxuLypcblNlcnZpY2VzXG4qL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IElldmdlbmlpIFNlbiBvbiAyNi4xMS4xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnc2htb3RBZG1pbicpXG4gICAgICAgIC5mYWN0b3J5KCdBdXRoJywgQXV0aCk7XG5cbiAgICBmdW5jdGlvbiBBdXRoKCRmaXJlYmFzZUF1dGgpIHtcbiAgICAgICAgcmV0dXJuICRmaXJlYmFzZUF1dGgoKTtcbiAgICB9XG5cbn0pKCk7XG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDI2LjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJylcbiAgICAgICAgLmZhY3RvcnkoJ0ZpbmFuY2UnLCBGaW5hbmNlKTtcblxuICAgIGZ1bmN0aW9uIEZpbmFuY2UoJGh0dHAsICRmaXJlYmFzZU9iamVjdCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzLFxuICAgICAgICAgICAgcmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKSxcbiAgICAgICAgICAgIHBiS2V5ID0gbnVsbCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZHNkJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB2bS5nZXRUcmFuc2FjdGlvbnNMaXN0ID0gZ2V0VHJhbnNhY3Rpb25zTGlzdDtcblxuICAgICAgICBnZXRQYktleSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFBiS2V5KCkge1xuICAgICAgICAgICAgcGJLZXkgPSAkZmlyZWJhc2VPYmplY3QocmVmKS5wYktleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWRpbmdUcmFuc2FjdGlvbnNMaXN0KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gbG9hZGluZ1RyYW5zYWN0aW9uc0xpc3QoKSB7XG4gICAgICAgICAgICAkaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2FwaS5wcml2YXRiYW5rLnVhL3AyNGFwaS9yZXN0X2ZpeicsXG4gICAgICAgICAgICAgICAgZGF0YTogJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PicrXG4gICAgICAgICAgICAgICAgJzxyZXF1ZXN0IHZlcnNpb249XCIxLjBcIj4nK1xuICAgICAgICAgICAgICAgICAgICAnPG1lcmNoYW50PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGlkPjc1NDgyPC9pZD4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxzaWduYXR1cmU+NWFiZjVjNzUyNGJjMmE4MzVhY2IzYTllMjRjZTEwYmM1YmE4MmE5OTwvc2lnbmF0dXJlPicrXG4gICAgICAgICAgICAgICAgICAgICc8L21lcmNoYW50PicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRhdGE+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPG9wZXI+Y210PC9vcGVyPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzx3YWl0PjA8L3dhaXQ+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHRlc3Q+MDwvdGVzdD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cGF5bWVudCBpZD1cIlwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxwcm9wIG5hbWU9XCJzZFwiIHZhbHVlPVwiMTEuMDguMjAxM1wiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHByb3AgbmFtZT1cImVkXCIgdmFsdWU9XCIxMS4wOS4yMDEzXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cHJvcCBuYW1lPVwiY2FyZFwiIHZhbHVlPVwiNTE2ODc0MjA2MDIyMTE5M1wiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9wYXltZW50PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kYXRhPicgK1xuICAgICAgICAgICAgICAgICc8L3JlcXVlc3Q+J1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbnNMaXN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG5cbn0pKCk7Il19
