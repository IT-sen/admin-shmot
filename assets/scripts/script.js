!function(){"use strict";var config={apiKey:"AIzaSyC_3OldnzSB0qGsdXCl3rHPucEeU7Pk5xw",authDomain:"adminshmot.firebaseapp.com",databaseURL:"https://adminshmot.firebaseio.com",storageBucket:"adminshmot.appspot.com",messagingSenderId:"551544753681"};firebase.initializeApp(config)}(),function(){"use strict";angular.module("shmotAdmin",["ngCookies","ngMaterial","ngMessages","ui.router","ngAnimate","firebase"])}(),function(){"use strict";function config($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state({name:"main",abstract:!0,templateUrl:"views/main.html"}),$stateProvider.state({name:"login",url:"/login",template:"<login></login>",data:{freeAssent:!0}}),$stateProvider.state({name:"register",url:"/register",template:"<register></register>",data:{freeAssent:!0}}),$stateProvider.state({name:"main.home",url:"/",templateUrl:"views/pages/home.html"}),$stateProvider.state({name:"main.finance",url:"/finance",templateUrl:"views/pages/finance.html"})}angular.module("shmotAdmin").config(config)}(),function(){"use strict";function runFunction($rootScope,$state,Auth){function checkAuth(event,toState,toParams,fromState,fromParams,options){void 0!==toState.data&&toState.data.freeAssent||Auth.$onAuthStateChanged(function(user){user||$state.go("login")})}$rootScope.user=null,$rootScope.$on("$stateChangeStart",checkAuth)}angular.module("shmotAdmin").run(runFunction)}(),function(){"use strict";function LoginController($state,Auth){function auth(){Auth.$signInWithEmailAndPassword(vm.email,vm.password).then(function(firebaseUser){vm.message="User created with uid: "+firebaseUser.uid,$state.go("main")}).catch(function(error){vm.error=error})}var vm=this;vm.auth=auth}angular.module("shmotAdmin").component("login",{templateUrl:"views/components/singin.html",controller:LoginController,controllerAs:"vm"})}(),function(){"use strict";function LoginController(Auth){function register(){Auth.$createUserWithEmailAndPassword(vm.email,vm.password).then(function(firebaseUser){vm.message="User created with uid: "+firebaseUser.uid}).catch(function(error){vm.error=error})}var vm=this;vm.register=register}angular.module("shmotAdmin").component("register",{templateUrl:"views/components/singup.html",controller:LoginController,controllerAs:"vm"})}(),function(){"use strict";function TransactionController(Finance){console.log(Finance.getTransactionsList())}angular.module("shmotAdmin").component("transaction",{templateUrl:"views/components/transaction.html",controller:TransactionController,controllerAs:"vm"})}(),function(){"use strict";function Auth($firebaseAuth){return $firebaseAuth()}angular.module("shmotAdmin").factory("Auth",Auth)}(),function(){"use strict";function Finance($http,$firebaseObject){function getPbKey(){pbKey=$firebaseObject(ref).pbKey}function loadingTransactionsList(){$http({method:"GET",url:"https://api.privatbank.ua/p24api/rest_fiz",data:'<?xml version="1.0" encoding="UTF-8"?><request version="1.0"><merchant><id>75482</id><signature>5abf5c7524bc2a835acb3a9e24ce10bc5ba82a99</signature></merchant><data><oper>cmt</oper><wait>0</wait><test>0</test><payment id=""><prop name="sd" value="11.08.2013" /><prop name="ed" value="11.09.2013" /><prop name="card" value="5168742060221193" /></payment></data></request>'}).then(function(response){console.log(response)},function(response){console.log(response)})}function getTransactionsList(){return transactions}var vm=this,ref=firebase.database().ref(),pbKey=null,transactions={items:[{name:"dsd"}]};return vm.getTransactionsList=getTransactionsList,getPbKey(),loadingTransactionsList(),vm}angular.module("shmotAdmin").factory("Finance",Finance)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJmaXJlYmFzZSIsImluaXRpYWxpemVBcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJzdGF0ZSIsIm5hbWUiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwidXJsIiwidGVtcGxhdGUiLCJkYXRhIiwiZnJlZUFzc2VudCIsInJ1bkZ1bmN0aW9uIiwiJHJvb3RTY29wZSIsIiRzdGF0ZSIsIkF1dGgiLCJjaGVja0F1dGgiLCJldmVudCIsInRvU3RhdGUiLCJ0b1BhcmFtcyIsImZyb21TdGF0ZSIsImZyb21QYXJhbXMiLCJvcHRpb25zIiwidW5kZWZpbmVkIiwiJG9uQXV0aFN0YXRlQ2hhbmdlZCIsInVzZXIiLCJnbyIsIiRvbiIsInJ1biIsIkxvZ2luQ29udHJvbGxlciIsImF1dGgiLCIkc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQiLCJ2bSIsImVtYWlsIiwicGFzc3dvcmQiLCJ0aGVuIiwiZmlyZWJhc2VVc2VyIiwibWVzc2FnZSIsInVpZCIsImNhdGNoIiwiZXJyb3IiLCJ0aGlzIiwiY29tcG9uZW50IiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJBcyIsInJlZ2lzdGVyIiwiJGNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsIlRyYW5zYWN0aW9uQ29udHJvbGxlciIsIkZpbmFuY2UiLCJjb25zb2xlIiwibG9nIiwiZ2V0VHJhbnNhY3Rpb25zTGlzdCIsIiRmaXJlYmFzZUF1dGgiLCJmYWN0b3J5IiwiJGh0dHAiLCIkZmlyZWJhc2VPYmplY3QiLCJnZXRQYktleSIsInBiS2V5IiwicmVmIiwibG9hZGluZ1RyYW5zYWN0aW9uc0xpc3QiLCJtZXRob2QiLCJyZXNwb25zZSIsInRyYW5zYWN0aW9ucyIsImRhdGFiYXNlIiwiaXRlbXMiXSwibWFwcGluZ3MiOiJDQU9BLFdBQ0ksWUFHQSxJQUFJQSxTQUNBQyxPQUFRLDBDQUNSQyxXQUFZLDZCQUNaQyxZQUFhLG9DQUNiQyxjQUFlLHlCQUNmQyxrQkFBbUIsZUFFdkJDLFVBQVNDLGNBQWNQLFdBTzNCLFdBQ0ksWUFFQVEsU0FDS0MsT0FBTyxjQUNKLFlBQ0EsYUFDQSxhQUNBLFlBQ0EsWUFDQSxnQkFRWixXQUNJLFlBTUEsU0FBU1QsUUFBT1UsZUFBZ0JDLG9CQUU1QkEsbUJBQW1CQyxVQUFVLEtBRTdCRixlQUFlRyxPQUNYQyxLQUFNLE9BQ05DLFVBQVUsRUFDVkMsWUFBYSxvQkFHakJOLGVBQWVHLE9BQ1hDLEtBQU0sUUFDTkcsSUFBSyxTQUNMQyxTQUFVLGtCQUNWQyxNQUNJQyxZQUFjLEtBSXRCVixlQUFlRyxPQUNYQyxLQUFNLFdBQ05HLElBQUssWUFDTEMsU0FBVSx3QkFDVkMsTUFDSUMsWUFBYyxLQUl0QlYsZUFBZUcsT0FDWEMsS0FBTSxZQUNORyxJQUFLLElBQ0xELFlBQWEsMEJBR2pCTixlQUFlRyxPQUNYQyxLQUFNLGVBQ05HLElBQUssV0FDTEQsWUFBYSw2QkF6Q3JCUixRQUNLQyxPQUFPLGNBQ1BULE9BQU9BLFdBZ0RoQixXQUNJLFlBTUEsU0FBU3FCLGFBQVlDLFdBQVlDLE9BQVFDLE1BS3JDLFFBQVNDLFdBQVVDLE1BQU9DLFFBQVNDLFNBQVVDLFVBQVdDLFdBQVlDLFNBQzNDQyxTQUFqQkwsUUFBUVIsTUFBdUJRLFFBQVFSLEtBQUtDLFlBQzVDSSxLQUFLUyxvQkFBb0IsU0FBU0MsTUFDekJBLE1BQ0RYLE9BQU9ZLEdBQUcsV0FSMUJiLFdBQVdZLEtBQU8sS0FFbEJaLFdBQVdjLElBQUksb0JBQXFCWCxXQVB4Q2pCLFFBQ0tDLE9BQU8sY0FDUDRCLElBQUloQixnQkE4QmIsV0FDSSxZQVVBLFNBQVNpQixpQkFBZ0JmLE9BQVFDLE1BSzdCLFFBQVNlLFFBQ0xmLEtBQUtnQiw0QkFBNEJDLEdBQUdDLE1BQU9ELEdBQUdFLFVBQ3pDQyxLQUFLLFNBQVNDLGNBQ1hKLEdBQUdLLFFBQVUsMEJBQTRCRCxhQUFhRSxJQUN0RHhCLE9BQU9ZLEdBQUcsVUFDWGEsTUFBTSxTQUFTQyxPQUNsQlIsR0FBR1EsTUFBUUEsUUFWbkIsR0FBSVIsSUFBS1MsSUFFVFQsSUFBR0YsS0FBT0EsS0FYZC9CLFFBQ0tDLE9BQU8sY0FDUDBDLFVBQVUsU0FDUG5DLFlBQWEsK0JBQ2JvQyxXQUFZZCxnQkFDWmUsYUFBYyxVQXdCMUIsV0FDSSxZQVVBLFNBQVNmLGlCQUFnQmQsTUFLckIsUUFBUzhCLFlBQ0w5QixLQUFLK0IsZ0NBQWdDZCxHQUFHQyxNQUFPRCxHQUFHRSxVQUM3Q0MsS0FBSyxTQUFTQyxjQUNYSixHQUFHSyxRQUFVLDBCQUE0QkQsYUFBYUUsTUFDdkRDLE1BQU0sU0FBU0MsT0FDbEJSLEdBQUdRLE1BQVFBLFFBVG5CLEdBQUlSLElBQUtTLElBRVRULElBQUdhLFNBQVdBLFNBWGxCOUMsUUFDS0MsT0FBTyxjQUNQMEMsVUFBVSxZQUNQbkMsWUFBYSwrQkFDYm9DLFdBQVlkLGdCQUNaZSxhQUFjLFVBdUIxQixXQUNJLFlBVUEsU0FBU0csdUJBQXNCQyxTQUczQkMsUUFBUUMsSUFBSUYsUUFBUUcsdUJBWHhCcEQsUUFDS0MsT0FBTyxjQUNQMEMsVUFBVSxlQUNQbkMsWUFBYSxvQ0FDYm9DLFdBQVlJLHNCQUNaSCxhQUFjLFVBc0IxQixXQUNJLFlBTUEsU0FBUzdCLE1BQUtxQyxlQUNWLE1BQU9BLGlCQUxYckQsUUFDS0MsT0FBTyxjQUNQcUQsUUFBUSxPQUFRdEMsU0FXekIsV0FDSSxZQU1BLFNBQVNpQyxTQUFRTSxNQUFPQyxpQkFnQnBCLFFBQVNDLFlBQ0xDLE1BQVFGLGdCQUFnQkcsS0FBS0QsTUFLakMsUUFBU0UsMkJBQ0xMLE9BQ0lNLE9BQVEsTUFDUnBELElBQUssNENBQ0xFLEtBQU0sdVhBaUJQeUIsS0FBSyxTQUF5QjBCLFVBQzdCWixRQUFRQyxJQUFJVyxXQUNiLFNBQXVCQSxVQUN0QlosUUFBUUMsSUFBSVcsWUFJcEIsUUFBU1YsdUJBQ0wsTUFBT1csY0FsRFgsR0FBSTlCLElBQUtTLEtBQ0xpQixJQUFNN0QsU0FBU2tFLFdBQVdMLE1BQzFCRCxNQUFRLEtBQ1JLLGNBQ0lFLFFBRVEzRCxLQUFNLFFBK0N0QixPQTFDQTJCLElBQUdtQixvQkFBc0JBLG9CQUV6QkssV0FNQUcsMEJBa0NPM0IsR0ExRFhqQyxRQUNLQyxPQUFPLGNBQ1BxRCxRQUFRLFVBQVdMIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5BcHBcbiovXG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDI2LjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICAgIGFwaUtleTogXCJBSXphU3lDXzNPbGRuelNCMHFHc2RYQ2wzckhQdWNFZVU3UGs1eHdcIixcbiAgICAgICAgYXV0aERvbWFpbjogXCJhZG1pbnNobW90LmZpcmViYXNlYXBwLmNvbVwiLFxuICAgICAgICBkYXRhYmFzZVVSTDogXCJodHRwczovL2FkbWluc2htb3QuZmlyZWJhc2Vpby5jb21cIixcbiAgICAgICAgc3RvcmFnZUJ1Y2tldDogXCJhZG1pbnNobW90LmFwcHNwb3QuY29tXCIsXG4gICAgICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjU1MTU0NDc1MzY4MVwiXG4gICAgfTtcbiAgICBmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG5cbn0pKCk7XG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDE2LjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJywgW1xuICAgICAgICAgICAgJ25nQ29va2llcycsXG4gICAgICAgICAgICAnbmdNYXRlcmlhbCcsXG4gICAgICAgICAgICAnbmdNZXNzYWdlcycsXG4gICAgICAgICAgICAndWkucm91dGVyJyxcbiAgICAgICAgICAgICduZ0FuaW1hdGUnLFxuICAgICAgICAgICAgJ2ZpcmViYXNlJ1xuICAgICAgICBdKTtcblxufSkoKTtcbi8qKlxuICogQ3JlYXRlZCBieSBJZXZnZW5paSBTZW4gb24gMjMuMTEuMTYuXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3NobW90QWRtaW4nKVxuICAgICAgICAuY29uZmlnKGNvbmZpZyk7XG5cbiAgICBmdW5jdGlvbiBjb25maWcoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xuXG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICAgICAgICBuYW1lOiAnbWFpbicsXG4gICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbWFpbi5odG1sJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHN0YXRlUHJvdmlkZXIuc3RhdGUoe1xuICAgICAgICAgICAgbmFtZTogJ2xvZ2luJyxcbiAgICAgICAgICAgIHVybDogJy9sb2dpbicsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxsb2dpbj48L2xvZ2luPicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgJ2ZyZWVBc3NlbnQnOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6ICdyZWdpc3RlcicsXG4gICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXInLFxuICAgICAgICAgICAgdGVtcGxhdGU6ICc8cmVnaXN0ZXI+PC9yZWdpc3Rlcj4nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdmcmVlQXNzZW50JzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlci5zdGF0ZSh7XG4gICAgICAgICAgICBuYW1lOiAnbWFpbi5ob21lJyxcbiAgICAgICAgICAgIHVybDogJy8nLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9ob21lLmh0bWwnXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6ICdtYWluLmZpbmFuY2UnLFxuICAgICAgICAgICAgdXJsOiAnL2ZpbmFuY2UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9wYWdlcy9maW5hbmNlLmh0bWwnXG4gICAgICAgIH0pO1xuICAgIH1cblxufSkoKTtcbi8qKlxuICogQ3JlYXRlZCBieSBJZXZnZW5paSBTZW4gb24gMjMuMTEuMTYuXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3NobW90QWRtaW4nKVxuICAgICAgICAucnVuKHJ1bkZ1bmN0aW9uKTtcblxuICAgIGZ1bmN0aW9uIHJ1bkZ1bmN0aW9uKCRyb290U2NvcGUsICRzdGF0ZSwgQXV0aCkge1xuICAgICAgICAkcm9vdFNjb3BlLnVzZXIgPSBudWxsO1xuXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGNoZWNrQXV0aCk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tBdXRoKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodG9TdGF0ZS5kYXRhID09PSB1bmRlZmluZWQgfHwgIXRvU3RhdGUuZGF0YS5mcmVlQXNzZW50KSB7XG4gICAgICAgICAgICAgICAgQXV0aC4kb25BdXRoU3RhdGVDaGFuZ2VkKGZ1bmN0aW9uKHVzZXIpe1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2xvZ2luJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG5cbi8qXG5EaXJlY3RpdmVzXG4gKi9cblxuLypcbkNvbXBvbmVudHNcbiovXG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDI2LjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJylcbiAgICAgICAgLmNvbXBvbmVudCgnbG9naW4nLCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2NvbXBvbmVudHMvc2luZ2luLmh0bWwnLFxuICAgICAgICAgICAgY29udHJvbGxlcjogTG9naW5Db250cm9sbGVyLFxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gTG9naW5Db250cm9sbGVyKCRzdGF0ZSwgQXV0aCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmF1dGggPSBhdXRoO1xuXG4gICAgICAgIGZ1bmN0aW9uIGF1dGgoKSB7XG4gICAgICAgICAgICBBdXRoLiRzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCh2bS5lbWFpbCwgdm0ucGFzc3dvcmQpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZmlyZWJhc2VVc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLm1lc3NhZ2UgPSBcIlVzZXIgY3JlYXRlZCB3aXRoIHVpZDogXCIgKyBmaXJlYmFzZVVzZXIudWlkO1xuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ21haW4nKTtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZtLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbi8qKlxuICogQ3JlYXRlZCBieSBJZXZnZW5paSBTZW4gb24gMjYuMTEuMTYuXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3NobW90QWRtaW4nKVxuICAgICAgICAuY29tcG9uZW50KCdyZWdpc3RlcicsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tcG9uZW50cy9zaW5ndXAuaHRtbCcsXG4gICAgICAgICAgICBjb250cm9sbGVyOiBMb2dpbkNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiBMb2dpbkNvbnRyb2xsZXIoQXV0aCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gICAgICAgICAgICBBdXRoLiRjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQodm0uZW1haWwsIHZtLnBhc3N3b3JkKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGZpcmViYXNlVXNlcikge1xuICAgICAgICAgICAgICAgICAgICB2bS5tZXNzYWdlID0gXCJVc2VyIGNyZWF0ZWQgd2l0aCB1aWQ6IFwiICsgZmlyZWJhc2VVc2VyLnVpZDtcbiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgICAgIHZtLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxufSkoKTtcbi8qKlxuICogQ3JlYXRlZCBieSBJZXZnZW5paSBTZW4gb24gMjYuMTEuMTYuXG4gKi9cblxuKGZ1bmN0aW9uICgpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ3NobW90QWRtaW4nKVxuICAgICAgICAuY29tcG9uZW50KCd0cmFuc2FjdGlvbicsIHtcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY29tcG9uZW50cy90cmFuc2FjdGlvbi5odG1sJyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFRyYW5zYWN0aW9uQ29udHJvbGxlcixcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgICAgICB9KTtcblxuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uQ29udHJvbGxlcihGaW5hbmNlKSB7XG4gICAgICAgIHZhciB2bSA9IHRoaXM7XG5cbiAgICAgICAgY29uc29sZS5sb2coRmluYW5jZS5nZXRUcmFuc2FjdGlvbnNMaXN0KCkpO1xuICAgIH1cblxufSkoKTtcblxuLypcbkNvbnRyb2xsZXJzXG4gKi9cblxuLypcblNlcnZpY2VzXG4qL1xuLyoqXG4gKiBDcmVhdGVkIGJ5IElldmdlbmlpIFNlbiBvbiAyNi4xMS4xNi5cbiAqL1xuXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnc2htb3RBZG1pbicpXG4gICAgICAgIC5mYWN0b3J5KCdBdXRoJywgQXV0aCk7XG5cbiAgICBmdW5jdGlvbiBBdXRoKCRmaXJlYmFzZUF1dGgpIHtcbiAgICAgICAgcmV0dXJuICRmaXJlYmFzZUF1dGgoKTtcbiAgICB9XG5cbn0pKCk7XG4vKipcbiAqIENyZWF0ZWQgYnkgSWV2Z2VuaWkgU2VuIG9uIDI2LjExLjE2LlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdzaG1vdEFkbWluJylcbiAgICAgICAgLmZhY3RvcnkoJ0ZpbmFuY2UnLCBGaW5hbmNlKTtcblxuICAgIGZ1bmN0aW9uIEZpbmFuY2UoJGh0dHAsICRmaXJlYmFzZU9iamVjdCkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzLFxuICAgICAgICAgICAgcmVmID0gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKSxcbiAgICAgICAgICAgIHBiS2V5ID0gbnVsbCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZHNkJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfTtcblxuICAgICAgICB2bS5nZXRUcmFuc2FjdGlvbnNMaXN0ID0gZ2V0VHJhbnNhY3Rpb25zTGlzdDtcblxuICAgICAgICBnZXRQYktleSgpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGdldFBiS2V5KCkge1xuICAgICAgICAgICAgcGJLZXkgPSAkZmlyZWJhc2VPYmplY3QocmVmKS5wYktleTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvYWRpbmdUcmFuc2FjdGlvbnNMaXN0KCk7XG5cbiAgICAgICAgZnVuY3Rpb24gbG9hZGluZ1RyYW5zYWN0aW9uc0xpc3QoKSB7XG4gICAgICAgICAgICAkaHR0cCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2FwaS5wcml2YXRiYW5rLnVhL3AyNGFwaS9yZXN0X2ZpeicsXG4gICAgICAgICAgICAgICAgZGF0YTogJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PicrXG4gICAgICAgICAgICAgICAgJzxyZXF1ZXN0IHZlcnNpb249XCIxLjBcIj4nK1xuICAgICAgICAgICAgICAgICAgICAnPG1lcmNoYW50PicrXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGlkPjc1NDgyPC9pZD4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxzaWduYXR1cmU+NWFiZjVjNzUyNGJjMmE4MzVhY2IzYTllMjRjZTEwYmM1YmE4MmE5OTwvc2lnbmF0dXJlPicrXG4gICAgICAgICAgICAgICAgICAgICc8L21lcmNoYW50PicgK1xuICAgICAgICAgICAgICAgICAgICAnPGRhdGE+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPG9wZXI+Y210PC9vcGVyPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzx3YWl0PjA8L3dhaXQ+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHRlc3Q+MDwvdGVzdD4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cGF5bWVudCBpZD1cIlwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzxwcm9wIG5hbWU9XCJzZFwiIHZhbHVlPVwiMTEuMDguMjAxM1wiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHByb3AgbmFtZT1cImVkXCIgdmFsdWU9XCIxMS4wOS4yMDEzXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cHJvcCBuYW1lPVwiY2FyZFwiIHZhbHVlPVwiNTE2ODc0MjA2MDIyMTE5M1wiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9wYXltZW50PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kYXRhPicgK1xuICAgICAgICAgICAgICAgICc8L3JlcXVlc3Q+J1xuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUcmFuc2FjdGlvbnNMaXN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2bTtcbiAgICB9XG5cbn0pKCk7Il19
